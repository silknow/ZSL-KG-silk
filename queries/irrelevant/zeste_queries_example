Techniques:
http://data.silknow.org/vocabulary/103
http://data.silknow.org/vocabulary/168
http://data.silknow.org/vocabulary/192
http://data.silknow.org/vocabulary/236
http://data.silknow.org/vocabulary/238
http://data.silknow.org/vocabulary/305
http://data.silknow.org/vocabulary/366
http://data.silknow.org/vocabulary/379
http://data.silknow.org/vocabulary/87


Materials:
http://data.silknow.org/vocabulary/214
http://data.silknow.org/vocabulary/441
http://data.silknow.org/vocabulary/497
http://data.silknow.org/vocabulary/627
http://data.silknow.org/vocabulary/628

Depictions:
http://data.silknow.org/vocabulary/743
http://data.silknow.org/vocabulary/744
http://data.silknow.org/vocabulary/745
http://data.silknow.org/vocabulary/747
http://data.silknow.org/vocabulary/761
http://data.silknow.org/vocabulary/818

Query:

prefix crmdig: <http://www.ics.forth.gr/isl/CRMext/CRMdig.rdfs/>  
prefix crmsci: <http://www.ics.forth.gr/isl/CRMsci/>

SELECT DISTINCT ?obj ?museum ?text ?technique ?material ?visual_item
WHERE {
  GRAPH ?museum {
     ?dig a crmdig:D1_Digital_Object . }
  
      ?dig ecrm:P129_is_about ?prod .
      ?prod ecrm:P108_has_produced ?obj .
      ?obj a ecrm:E22_Man-Made_Object .

      ?obj rdfs:comment ?text

      optional{ ?prod ecrm:P126_employed ?material .
                 FILTER (contains(str(?material), "http://data.silknow.org/vocabulary/214") ||
                         contains(str(?material), "http://data.silknow.org/vocabulary/441") ||
                         contains(str(?material), "http://data.silknow.org/vocabulary/497") || 
                         contains(str(?material), "http://data.silknow.org/vocabulary/627") ||
                         contains(str(?material), "http://data.silknow.org/vocabulary/628"))
               }
        

       optional{ ?prod ecrm:P32_used_general_technique  ?technique .
                 FILTER (contains(str(?technique), "http://data.silknow.org/vocabulary/103") || contains(str(?technique), "http://data.silknow.org/vocabulary/168"))
               }

       optional{ ?obj ecrm:P65_shows_visual_item  ?visual_item .
                 FILTER (contains(str(?visual_item), "http://data.silknow.org/vocabulary/743") || contains(str(?visual_item), "http://data.silknow.org/vocabulary/744"))
               }

FILTER (contains(str(?museum), "vam") || 
        contains(str(?museum), "risd") || 
        contains(str(?museum), "artic") || 
        contains(str(?museum), "met") || 
        contains(str(?museum), "mfa") || 
        contains(str(?museum), "smithsonian") )
}
ORDER BY ?museum
